<div class="w-full max-w-xs mx-auto mt-40">
  <form
    #form="ngForm"
    [formGroup]="registerForm"
    (ngSubmit)="register(form)"
    class="bg-white shadow-md rounded px-6 pt-6 pb-6 mb-4"
  >
    <h2 class="text-center">Inscription</h2>
    <div class="flex flex-col mx-auto my-5">
      <mat-form-field appearance="standard">
        <mat-label>Username</mat-label>
        <input formControlName="username" matInput type="text" />
        <mat-error *ngIf="username?.errors?.required"
          >Username required</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="standard">
        <mat-label>Email</mat-label>
        <input formControlName="email" matInput type="email" />
        <mat-error *ngIf="email?.errors?.required">Email required</mat-error>
      </mat-form-field>

      <mat-form-field appearance="standard">
        <mat-label>Password</mat-label>
        <input
          [type]="hide1 ? 'password' : 'text'"
          formControlName="password1"
          matInput
        />
        <button
          (click)="hide1 = !hide1"
          matSuffix
          mat-icon-button
          type="submit"
        >
          <mat-icon>{{ hide1 ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-error *ngIf="password1?.errors?.required"
          >Password required</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="standard">
        <mat-label>Confirm</mat-label>
        <input
          [type]="hide2 ? 'password' : 'text'"
          formControlName="password2"
          matInput
        />
        <button
          (click)="hide2 = !hide2"
          matSuffix
          mat-icon-button
          type="button"
        >
          <mat-icon>{{ hide2 ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-error *ngIf="password2?.errors?.required"
          >Password required</mat-error
        >
      </mat-form-field>
    </div>
    <button
      mat-raised-button
      type="button"
      [disabled]="registerForm.invalid"
    >
      {{ registerForm.invalid ? "Waiting" : authButton }}
    </button>
  </form>
</div>
